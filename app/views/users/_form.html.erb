<div class="section">
  <h2 class="title is-2 has-text-centered">Edit Profile</h2>
  <div class="columns is-centered">
    <div class="box" id='edit-pro-box'>
      <%= simple_form_for(@user) do |f| %>
        <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>
            <div class="field">
              <div class="control">

              <span style='display:flex;justify-content:center;align-items:center'>
                <%= image_tag user_avatar(@user, 100), style: 'border-radius:50%' %>
              </span>
              <%= f.file_field :avatar, class: 'mb-4' %>
              <%= f.error_notification %>

            <div class="field">
              <div class="control">
                <%= f.input :name,
                    wrapper: false,
                    label_html: { class: 'label' },
                    input_html: { class: 'input' } %>
              </div>
            </div>

            <div class="field">
              <div class="control">
                <%= f.input :email,
                    wrapper: false,
                    label_html: { class: 'label' },
                    input_html: { class: 'input' } %>
              </div>
            </div>

            <div class="field">
              <div class="control">
                <%= f.input :bio,
                    maxlength: '140',
                    id: 'textarea',
                    wrapper: false,
                    label_html: { class: 'label' },
                    placeholder: 'Tell us about yourself',
                    input_html: { class: 'input', style:'height:100px' } %>
      
                <div id="characters">Characters left: 140</div>
              </div>
            </div>


            <div class="field">
              <div class="control">
                <%= f.input :date_of_birth,
                    wrapper: false,
                    label_html: { class: 'label' },
                    input_html: { class: 'input' },
                    html5: true %>
              </div>
            </div>

            <div class="field">
              <div class="control">
                <%= f.input :password,
                    required: true,
                    wrapper: false,
                    label_html: { class: 'label' },
                    hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length),
                    input_html: { class: 'input' } %>
              </div>
            </div>

            <div class="field">
              <div class="control">
                <%= f.input :password_confirmation,
                    required: true,
                    wrapper: false,
                    label_html: { class: 'label' },
                    input_html: { class: 'input' } %>
              </div>
            </div>

            <%= f.button :submit, "Update Profile", class:'button mb-3 sign-in-button' %>

      <% end %>
    
      <span>
        <%= link_to 'Back', @user, class:'like-underline', data: { turbolinks: "false" } %> |
        <%= link_to 'Home', posts_path, class:'like-underline', data: { turbolinks: "false" } %>
      </span>

    </div>
  </div>
</div>